(this["webpackJsonpinertia-website"]=this["webpackJsonpinertia-website"]||[]).push([[12],{305:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(1);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var r=n.createElement("path",{d:"M34.5200835,0.439276946 C30.2258633,4.80684561 25.9249751,9.18775035 21.5707425,13.6153314 C20.9972907,14.1954512 20.0771007,14.2021193 19.5036489,13.6153314 C15.1694205,9.21442253 10.8551962,4.82684974 6.53430381,0.439276946 C5.96085205,-0.14084286 5.04066201,-0.134174817 4.47387829,0.44594499 C3.42699542,1.52616808 2.40011668,2.59972312 1.33322968,3.69995034 C0.766445963,4.28673819 0.779782051,5.23360041 1.34656577,5.81372021 C5.55410138,10.0946043 9.87499373,14.4888451 14.2558985,18.9497664 C14.8293502,19.5298862 14.8226822,20.4700804 14.2558985,21.0568682 C9.90833395,25.4844493 5.57410551,29.8920262 1.27321729,34.2662629 C0.706433569,34.8463827 0.706433569,35.7865769 1.28655338,36.3600287 L4.47387829,39.5540216 C5.04733005,40.1274734 5.98085618,40.1274734 6.5476399,39.5473536 L19.4969809,26.3913032 C20.0704326,25.8111834 20.9906227,25.8111834 21.5640744,26.3913032 C25.8782987,30.778876 30.179187,35.1531127 34.5134154,39.5606897 C35.0868672,40.1408095 36.0137253,40.1474775 36.580509,39.5673577 C37.647396,38.4871346 38.6942788,37.4202476 39.7544978,36.3466926 C40.3279496,35.7665728 40.3279496,34.8197105 39.7611658,34.2395907 C35.5069539,29.9053623 31.1927296,25.5111215 26.8118249,21.0502002 C26.2383731,20.4700804 26.2383731,19.5232182 26.8118249,18.9430984 C31.1593894,14.5155173 35.4869498,10.1079404 39.78117,5.72703564 C40.3546217,5.14691584 40.3479537,4.20672167 39.7745019,3.62660186 L36.587177,0.419272815 C36.0203933,-0.147510904 35.0935352,-0.14084286 34.5200835,0.439276946 Z"});function i(e,t){var a=e.title,i=e.titleId,l=s(e,["title","titleId"]);return n.createElement("svg",c({xmlns:"http://www.w3.org/2000/svg",width:41,height:40,viewBox:"0 0 41 40",ref:t,"aria-labelledby":i},l),a?n.createElement("title",{id:i},a):null,r)}var l=n.forwardRef(i);a.p},484:function(e,t,a){},485:function(e,t,a){},486:function(e,t,a){},487:function(e,t,a){},511:function(e,t,a){"use strict";a.r(t);var n,c,s=a(5),r=a.n(s),i=a(252),l=a(52),o=a(3),j=a(1),u=a.n(j),d=a(23),b=a(104),p=a(225),x=a(262),O=a(17),h=a(115),k=a(339),m=a(227),f=a(258),v=a(236),g=a(226),S=a(96),w=a(235),y=a(508),_=a(303),C=a(302),T=(a(484),u.a.forwardRef((function(e,t){var a=e.action,n=e.placeholderText,c=e.balance,s=e.unit,r=e.loading,i=e.buttonText,u=Object(j.useState)(""),d=Object(l.a)(u,2),b=d[0],p=d[1];return Object(o.jsxs)("div",{className:"PoolInput",children:[Object(o.jsxs)("div",{className:"PoolInput__control",children:[Object(o.jsx)("input",{ref:t,className:"PoolInput__input",type:"text",value:b,placeholder:n,onChange:function(e){return p(e.target.value)}}),Object(o.jsx)("button",{className:"PoolInput__control__button",onClick:function(){void 0===c&&p("0"),void 0!==c&&p(Object(w.formatUnits)(c,s))},children:"Max"})]}),Object(o.jsx)("button",{className:r?"Btn Btn--primary PoolInput__action":"Btn Btn--secondary PoolInput__action",disabled:r,onClick:a,children:r?"Loading...":i})]})}))),N=(a(485),function(e){var t=e.label,a=e.value,n=e.token;return Object(o.jsxs)("div",{className:"WalletStat",children:[Object(o.jsx)("p",{className:"WalletStat__label",children:t}),Object(o.jsxs)("p",{className:"WalletStat__value",children:[a," ",Object(o.jsx)("span",{className:"WalletStat__token",children:n})]})]})}),I=function(e){var t=e.stakeView,a=e.tokenAddress,n=e.poolAddress,c=e.stakeToken,s=Object(j.useRef)(),u=Object(j.useRef)(),d=Object(h.c)(),b=d.account,x=d.library,O=Object(v.a)([a,"balanceOf",b],{fetcher:Object(g.a)(x,p.e)}),k=O.data,f=O.mutate,I=Object(v.a)([n,"balanceOf",b],{fetcher:Object(g.a)(x,p.e)}),B=I.data,E=I.mutate,P=Object(v.a)([n,"estimatedRewards"],{fetcher:Object(g.a)(x,p.e)}),U=P.data,R=P.mutate;Object(j.useEffect)((function(){return x.on("block",(function(){f(void 0,!0),E(void 0,!0),R(void 0,!0)})),function(){x.removeAllListeners("block")}}),[x,f,E,R]);var A=Object(j.useState)(!1),F=Object(l.a)(A,2),L=F[0],V=F[1],W=Object(j.useState)(!1),M=Object(l.a)(W,2),G=M[0],q=M[1],J=Object(j.useState)(!1),Z=Object(l.a)(J,2),z=Z[0],D=Z[1],K=Object(j.useState)(!1),Q=Object(l.a)(K,2),Y=Q[0],H=Q[1];function X(){return(X=Object(i.a)(r.a.mark((function e(){var t,c,i,l,o,j,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V(!0),t=new S.a(a,p.b,x.getSigner()),c=new S.a(n,p.e,x.getSigner()),e.prev=3,i=s.current,l=i?Object(w.parseUnits)(i.value,18):0,e.next=8,t.allowance(b,n);case 8:if(!e.sent.lt(l)){e.next=15;break}return e.next=12,t.approve(n,l);case 12:return o=e.sent,e.next=15,o.wait(1);case 15:return e.next=17,c.stake(l);case 17:return o=e.sent,e.next=20,o.wait(1);case 20:return e.next=22,t.balanceOf(b);case 22:return j=e.sent,e.next=25,c.balanceOf(b);case 25:return u=e.sent,e.next=28,E(u);case 28:return e.next=30,f(j);case 30:y.b.success("Staking successfully executed"),e.next=36;break;case 33:e.prev=33,e.t0=e.catch(3),y.b.error("Staking failed, please try again");case 36:V(!1);case 37:case"end":return e.stop()}}),e,null,[[3,33]])})))).apply(this,arguments)}function $(){return($=Object(i.a)(r.a.mark((function e(){var t,c,s,i,l,o,j;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(!0),t=new S.a(a,p.b,x.getSigner()),c=new S.a(n,p.e,x.getSigner()),e.prev=3,s=u.current,i=s?Object(w.parseUnits)(s.value,18):0,e.next=8,c.unstake(i);case 8:return l=e.sent,e.next=11,l.wait(1);case 11:return e.next=13,t.balanceOf(b);case 13:return o=e.sent,e.next=16,c.balanceOf(b);case 16:return j=e.sent,e.next=19,f(o);case 19:return e.next=21,E(j);case 21:y.b.success("Unstake successfully executed"),e.next=28;break;case 24:e.prev=24,e.t0=e.catch(3),console.log(e.t0),y.b.error("Unstake failed, please try again");case 28:q(!1);case 29:case"end":return e.stop()}}),e,null,[[3,24]])})))).apply(this,arguments)}function ee(){return(ee=Object(i.a)(r.a.mark((function e(){var t,a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),t=new S.a(n,p.e,x.getSigner()),e.prev=2,e.next=5,t.withdrawRewards();case 5:return a=e.sent,e.next=8,a.wait(1);case 8:return e.next=10,t.estimatedRewards(b);case 10:return c=e.sent,e.next=13,R(c);case 13:y.b.success("Claim reward successful"),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),y.b.error("Claim reward failed, please try again");case 19:D(!1);case 20:case"end":return e.stop()}}),e,null,[[2,16]])})))).apply(this,arguments)}function te(){return(te=Object(i.a)(r.a.mark((function e(){var t,c,s,i,l,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return H(!0),t=new S.a(n,p.e,x.getSigner()),c=new S.a(a,p.b,x.getSigner()),e.prev=3,e.next=6,t.exit();case 6:return s=e.sent,e.next=9,s.wait(1);case 9:return e.next=11,c.balanceOf(b);case 11:return i=e.sent,e.next=14,t.balanceOf(b);case 14:return l=e.sent,e.next=17,t.estimatedRewards(b);case 17:return o=e.sent,e.next=20,E(l);case 20:return e.next=22,f(i);case 22:return e.next=24,R(o);case 24:y.b.success("Claim and unstake successfully executed"),e.next=31;break;case 27:e.prev=27,e.t0=e.catch(3),console.log(e.t0),y.b.error("Claim and unstake failed, please try again");case 31:H(!1);case 32:case"end":return e.stop()}}),e,null,[[3,27]])})))).apply(this,arguments)}switch(t){case"a":return Object(o.jsxs)(_.a,{span:24,children:[Object(o.jsxs)(C.a,{gutter:[16,16],children:[Object(o.jsx)(_.a,{lg:{span:12},xs:{span:24},children:Object(o.jsx)(N,{label:"Currently staked",value:Object(o.jsx)(m.a,{value:void 0!==B?Object(w.formatUnits)(B,18):0,displayType:"text",thousandSeparator:!0,decimalScale:6}),token:c})}),Object(o.jsx)(_.a,{lg:{span:12},xs:{span:24},children:Object(o.jsx)(N,{label:"Wallet balance",value:Object(o.jsx)(m.a,{value:void 0!==k?Object(w.formatUnits)(k,18):0,displayType:"text",thousandSeparator:!0,decimalScale:6}),token:c})})]}),Object(o.jsx)(T,{action:function(){return X.apply(this,arguments)},loading:L,buttonText:"Stake",ref:s,balance:k,placeholderText:"Enter stake amount",unit:18})]});case"b":return Object(o.jsxs)(_.a,{span:24,children:[Object(o.jsx)(C.a,{gutter:[16,16],children:Object(o.jsx)(_.a,{lg:{span:12},xs:{span:24},children:Object(o.jsx)(N,{label:"Rewards available",value:Object(o.jsx)(m.a,{value:void 0!==U?Object(w.formatEther)(U):0,displayType:"text",thousandSeparator:!0,decimalScale:6}),token:c})})}),Object(o.jsx)(C.a,{gutter:[16,16],children:Object(o.jsx)(_.a,{span:24,children:Object(o.jsx)("button",{className:z?"Btn Btn--primary StakeView__action":"Btn Btn--secondary StakeView__action",onClick:function(){return!z&&function(){return ee.apply(this,arguments)}()},disabled:z,children:z?"Loading...":"Claim"})})})]});case"c":return Object(o.jsxs)(_.a,{span:24,children:[Object(o.jsx)(C.a,{gutter:[16,16],children:Object(o.jsx)(_.a,{lg:{span:12},xs:{span:24},children:Object(o.jsx)(N,{label:"Currently staked",value:Object(o.jsx)(m.a,{value:void 0!==B?Object(w.formatUnits)(B,18):0,displayType:"text",thousandSeparator:!0,decimalScale:6}),token:c})})}),Object(o.jsx)(T,{action:function(){return $.apply(this,arguments)},loading:G,buttonText:"Unstake",ref:u,balance:B,placeholderText:"Unstake Amount",unit:18})]});case"d":return Object(o.jsxs)(_.a,{span:24,children:[Object(o.jsxs)(C.a,{gutter:[16,16],children:[Object(o.jsx)(_.a,{lg:{span:12},xs:{span:24},children:Object(o.jsx)(N,{label:"Currently staked",value:Object(o.jsx)(m.a,{value:void 0!==B?Object(w.formatUnits)(B,18):0,displayType:"text",thousandSeparator:!0,decimalScale:8}),token:c})}),Object(o.jsx)(_.a,{lg:{span:12},xs:{span:24},children:Object(o.jsx)(N,{label:"Rewards available",value:Object(o.jsx)(m.a,{value:void 0!==U?Object(w.formatEther)(U):0,displayType:"text",thousandSeparator:!0,decimalScale:8}),token:c})})]}),Object(o.jsx)(C.a,{gutter:[16,16],children:Object(o.jsx)(_.a,{span:24,children:Object(o.jsx)("button",{className:Y?"Btn Btn--primary StakeView__action":"Btn Btn--secondary StakeView__action",onClick:function(){return!Y&&function(){return te.apply(this,arguments)}()},disabled:Y,children:Y?"Loading...":Object(o.jsx)(o.Fragment,{children:"Claim & Unstake"})})})})]});default:return null}},B=a(336),E=a(305),P=a(245),U=a(246),R=a(247),A=a(248),F=a(249);a(486);!function(e){e.Active="Active",e.Inactive="Inactive",e.Finished="Finished"}(n||(n={})),function(e){e.liquidity="liquidity tokens",e.token="tokens"}(c||(c={}));var L=function(e){switch(e){case"INR":return Object(o.jsx)(P.a,{className:"StakeItem__icon"});case"GP":return Object(o.jsx)(A.a,{className:"StakeItem__icon"});case"ES":return Object(o.jsx)(U.a,{className:"StakeItem__icon"});case"EI":return Object(o.jsx)(R.a,{className:"StakeItem__icon"});case"SP":return Object(o.jsx)(F.a,{className:"StakeItem__icon"});default:return Object(o.jsx)(P.a,{className:"StakeItem__icon"})}},V=function(e){var t=e.label,a=e.value;return Object(o.jsxs)("div",{className:"StakeStat",children:[Object(o.jsx)("p",{className:"StakeStat__label",children:t}),Object(o.jsx)("p",{className:"StakeStat__value",children:a})]})},W=function(e){var t=e.stake,a=e.receive,n=e.stakeTokenType;return Object(o.jsxs)("div",{className:"StakeInstruction",children:[Object(o.jsx)("p",{className:"StakeInstruction__title",children:"Instructions"}),Object(o.jsxs)("ul",{className:"StakeInstruction__steps",children:[Object(o.jsxs)("li",{children:["Deposit ",t," ",c[n]]}),Object(o.jsxs)("li",{children:["Receive a continuous drip of ",a]})]})]})},M=function(e){var t=e.provider,a=Object(d.g)().poolId,c=Object(j.useState)("a"),s=Object(l.a)(c,2),r=s[0],i=s[1],u=Object(j.useState)(null),b=Object(l.a)(u,2),v=b[0],g=b[1],S=Object(j.useState)(!0),w=Object(l.a)(S,2),y=w[0],T=w[1],N=new k.a({supportedChainIds:[1,3]}),P=Object(h.c)(),U=P.activate,R=P.active;return Object(j.useEffect)((function(){var e=f.find((function(e){return e.id===a}));e&&(g(e),T(!1))}),[a]),Object(o.jsx)("div",{className:"StakeItem",children:Object(o.jsxs)("div",{className:"StakeItem__container",children:[Object(o.jsx)(O.b,{to:"/lab/stake",className:"StakeItem__close",children:Object(o.jsx)(E.a,{})}),Object(o.jsx)("div",{className:"StakeItem__content",children:y?Object(o.jsx)("p",{children:"Loading..."}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)(C.a,{gutter:[16,16],className:"StakeItem__top",children:[Object(o.jsxs)(_.a,{lg:{span:24},xs:{span:24},className:"StakeItem__title",children:[L(v.image),Object(o.jsx)("h3",{children:v.poolName})]}),Object(o.jsxs)(_.a,{lg:{span:24},xs:{span:24},className:"StakeItem__description",children:[Object(o.jsxs)("ul",{className:"StakeItem__list",children:[Object(o.jsxs)("li",{children:[Object(o.jsx)("span",{children:"Status"})," ",Object(o.jsx)("span",{children:n[v.status]})]}),Object(o.jsxs)("li",{children:[Object(o.jsx)("span",{children:"Start date"})," ",Object(o.jsx)(x.f,{contract:v.contract,provider:t,method:"startTime",type:"date"})]}),Object(o.jsxs)("li",{children:[Object(o.jsx)("span",{children:"Pool type"})," ",Object(o.jsx)("span",{children:v.type})]}),Object(o.jsxs)("li",{children:[Object(o.jsx)("span",{children:"Period"})," ",Object(o.jsx)(x.f,{contract:v.contract,provider:t,method:"periodDuration",type:"duration"})]}),Object(o.jsxs)("li",{children:[Object(o.jsx)("span",{children:"Next reward"})," ",Object(o.jsx)(x.f,{contract:v.contract,provider:t,method:"periodFinishTime",type:"distance"})]})]}),Object(o.jsx)("p",{children:v.description})]})]}),Object(o.jsxs)(C.a,{gutter:[16,16],children:[Object(o.jsx)(_.a,{lg:{span:24},xs:{span:24},children:Object(o.jsx)(W,{stake:"liquidity"===v.stakingToken.tokenType?Object(o.jsx)("a",{href:Object(p.f)(v.stakingToken.pairToken1,v.stakingToken.pairToken0),rel:"noreferrer",target:"_blank",children:v.stakingToken.name}):Object(o.jsx)(O.b,{to:"/lab/products/".concat(v.stakingToken.name),children:v.stakingToken.name}),receive:Object(o.jsx)(O.b,{to:"/lab/products/".concat(v.rewardToken.name),children:v.rewardToken.name}),stakeTokenType:v.stakingToken.tokenType})}),Object(o.jsx)(_.a,{lg:{span:12},xs:{span:24},children:Object(o.jsx)(V,{label:"Remaining",value:Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(x.a,{contract:v.rewardToken.contract,address:v.contract,provider:t,decimals:0}),"/",Object(o.jsx)(m.a,{value:v.reward.initial,displayType:"text",thousandSeparator:!0,decimalScale:0})," ",v.rewardToken.name]})})}),Object(o.jsx)(_.a,{lg:{span:12},xs:{span:24},children:Object(o.jsx)(V,{label:"Claimed",value:Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(x.e,{contract:v.rewardToken.contract,address:v.contract,provider:t,decimals:0,subtract:v.reward.initial}),"/",Object(o.jsx)(m.a,{value:v.reward.initial,displayType:"text",thousandSeparator:!0,decimalScale:0})," ",v.rewardToken.name]})})})]}),Object(o.jsxs)(C.a,{gutter:[16,16],style:{marginTop:"1rem"},children:[Object(o.jsx)(_.a,{span:24,className:"StakeItem__radioContainer",children:Object(o.jsxs)(B.a.Group,{defaultValue:"a",size:"large",onChange:function(e){return i(e.target.value)},children:[Object(o.jsx)(B.a.Button,{value:"a",children:"Stake"}),Object(o.jsx)(B.a.Button,{value:"b",children:"Claim"}),Object(o.jsx)(B.a.Button,{value:"c",children:"Unstake"}),Object(o.jsx)(B.a.Button,{value:"d",children:"Claim & Unstake"})]})}),R?Object(o.jsx)(I,{stakeView:r,tokenAddress:v.stakingToken.contract,poolAddress:v.contract,stakeToken:v.stakingToken.name}):Object(o.jsx)(_.a,{span:24,children:Object(o.jsxs)("div",{className:"StakeItem__connect",children:[Object(o.jsx)("p",{children:"Connect MetaMask to interact with pool"}),Object(o.jsx)("button",{className:"Btn Btn--secondary",onClick:function(){return U(N)},children:"Connect to metamask"})]})})]})]})})]})})};a(487),t.default=function(e){var t=e.url,a=Object(j.useState)(null),n=Object(l.a)(a,2),c=n[0],s=n[1];return Object(j.useEffect)((function(){function e(){return(e=Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new b.a.providers.EtherscanProvider(p.d,"WSEBKEYQAFZ8AUGMFAKJR7GPCNYZ9Q3AIE"),s(t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(o.jsxs)("div",{className:"Stake",children:[Object(o.jsx)("h2",{className:"Stake__title",children:"Stake"}),Object(o.jsx)(x.k,{provider:c,data:f,size:"large"}),Object(o.jsx)(d.a,{exact:!0,path:"".concat(t,"/stake/:poolId"),children:c&&Object(o.jsx)(M,{provider:c})})]})}}}]);
//# sourceMappingURL=12.6336553e.chunk.js.map